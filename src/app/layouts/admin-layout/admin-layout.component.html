<div class="flex h-screen bg-[#FDFCFB]"> 
  <aside class="w-72 bg-white border-r border-border hidden md:flex flex-col">
    <a routerLink="/admin/dashboard" class="p-6">
       <img src="/logo-text.png" alt="Logo">
    </a>
    
    <nav class="flex-1 p-4 overflow-y-auto">
      @for(item of menuItems(); track $index) {
        <div>
          <p class="px-4 text-[10px] font-black text-primary/40 uppercase tracking-widest my-2">{{item.title}}</p>
          <div class="space-y-1">
            @for(subItem of item.items; track $index) {
              <a routerLink={{subItem.link}} routerLinkActive="bg-primary/10" class="flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 transition">
                <i-lucide name={{subItem.icon}} class="w-5 h-5"></i-lucide> {{subItem.title}}
              </a>
            }
          </div>
        </div>
      }
    </nav>
  </aside>

  <main class="flex-1 flex flex-col overflow-hidden">
    <header class="h-16 border-b border-border bg-white flex items-center justify-between px-8">
      <h2 class="font-semibold text-foreground">Store Management</h2>
      <div class="flex items-center gap-4 bg-white px-4 py-2 rounded-2xl border border-border">
        <lucide-icon name="map-pin" class="w-4 h-4 text-primary"></lucide-icon>
        
        <select [ngModel]="selectedBranch()?.id" 
                (ngModelChange)="onBranchChange($event)"
                class="bg-transparent font-bold text-sm outline-none border-none cursor-pointer">
          @for (b of branches(); track b.id) {
            <option [value]="b.id">{{ b.name }}</option>
          }
        </select>

        @if (userRole() === 'admin') {
          <span class="text-[10px] bg-primary/10 text-primary px-2 py-0.5 rounded font-black">SUPER-ADMIN</span>
        }
      </div>
    </header>

    <div class="flex-1 overflow-y-auto p-8">
      <router-outlet></router-outlet> </div>
  </main>
</div>