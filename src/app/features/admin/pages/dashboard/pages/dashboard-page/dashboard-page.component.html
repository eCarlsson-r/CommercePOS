<div class="space-y-8 p-1 animate-in fade-in slide-in-from-bottom-4 duration-700">
  
  <header>
    @if (userRole() === 'admin') {
      <app-stats-grid></app-stats-grid>
    } @else {
      <app-branch-staff-kpis></app-branch-staff-kpis>
    }
  </header>

  <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
    
    <div class="lg:col-span-2 space-y-8">
      
      <section class="min-h-[400px]">
        <app-recent-sales></app-recent-sales>
      </section>

      @if (userRole() === 'admin') {
        <app-admin-metrics-view 
          [revenue]="totalNetworkRevenue()" 
          [branchPerformance]="branchPerformance()">
        </app-admin-metrics-view>
      }
    </div>

    <div class="space-y-8">
      <section>
        <app-stock-alert></app-stock-alert>
      </section>

      <div class="bg-primary p-6 rounded-2xl text-white shadow-xl shadow-primary/20">
        <h4 class="font-bold text-lg mb-4 flex items-center gap-2">
          <lucide-icon name="zap" class="w-5 h-5 text-amber-400"></lucide-icon>
          Quick Operations
        </h4>
        <div class="flex flex-col gap-3">
          <button routerLink="/pos" class="w-full bg-white/10 hover:bg-white/20 py-3 rounded-xl font-semibold transition flex items-center justify-center gap-2 border border-white/10">
            <lucide-icon name="monitor-smartphone" class="w-4 h-4"></lucide-icon>
            Open POS
          </button>
          <button routerLink="/admin/movement" class="w-full bg-white/10 hover:bg-white/20 py-3 rounded-xl font-semibold transition flex items-center justify-center gap-2 border border-white/10">
            <lucide-icon name="plus-circle" class="w-4 h-4"></lucide-icon>
            Receive Stock
          </button>
        </div>
      </div>

    </div>
  </div>
</div>