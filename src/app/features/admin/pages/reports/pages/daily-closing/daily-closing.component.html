<div class="p-6 max-w-4xl mx-auto space-y-6">
  
  <div class="flex items-center justify-between">
    <h1 class="text-2xl font-black text-store-brown tracking-tighter">DAILY CLOSING REPORT</h1>
    <div class="flex gap-2">
      <button (click)="printReport()" class="p-2 bg-white border rounded-xl hover:bg-gray-50">
        <i-lucide name="printer" class="w-5 h-5 text-gray-400"></i-lucide>
      </button>
      <button (click)="exportPDF()" class="bg-store-brown text-white px-4 py-2 rounded-xl font-bold text-sm">
        Export PDF
      </button>
    </div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
    <div class="bg-white p-6 rounded-3xl border border-border">
      <p class="text-[10px] font-black text-gray-400 uppercase tracking-widest">Total Revenue</p>
      <p class="text-2xl font-black text-store-brown mt-1">Rp {{ report()?.total_revenue | number }}</p>
    </div>
    <div class="bg-white p-6 rounded-3xl border border-border">
      <p class="text-[10px] font-black text-gray-400 uppercase tracking-widest">Transactions</p>
      <p class="text-2xl font-black text-gray-900 mt-1">{{ report()?.transaction_count }}</p>
    </div>
    <div class="bg-white p-6 rounded-3xl border border-border" [class.border-red-200]="report()?.low_stock_alerts! > 0">
      <p class="text-[10px] font-black text-gray-400 uppercase tracking-widest">Stock Alerts</p>
      <p class="text-2xl font-black mt-1" [class.text-red-500]="report()?.low_stock_alerts! > 0">
        {{ report()?.low_stock_alerts }}
      </p>
    </div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div class="bg-white rounded-3xl border border-border overflow-hidden">
      <div class="p-4 border-b bg-gray-50 font-bold text-xs uppercase tracking-widest text-gray-500">
        Payment Methods
      </div>
      <div class="p-6 space-y-4">
        @for (item of report()?.payment_methods; track item.method) {
          <div class="flex justify-between items-center">
            <span class="text-sm font-medium text-gray-600">{{ item.method }}</span>
            <span class="font-mono font-bold">Rp {{ item.total | number }}</span>
          </div>
          <div class="w-full bg-gray-100 h-1.5 rounded-full overflow-hidden">
            <div class="bg-store-brown h-full" [style.width.%]="(item.total / report()?.total_revenue!) * 100"></div>
          </div>
        }
      </div>
    </div>

    <div class="bg-white rounded-3xl border border-border overflow-hidden">
      <div class="p-4 border-b bg-gray-50 font-bold text-xs uppercase tracking-widest text-gray-500">
        Best Sellers (Today)
      </div>
      <div class="divide-y">
        @for (product of report()?.top_products; track product.name) {
          <div class="p-4 flex justify-between items-center">
            <span class="text-sm font-bold text-gray-800">{{ product.name }}</span>
            <span class="bg-store-cream/20 text-store-brown px-3 py-1 rounded-lg text-xs font-black">
              {{ product.qty }} pcs
            </span>
          </div>
        }
      </div>
    </div>
  </div>
</div>