<div class="p-6 max-w-7xl mx-auto space-y-8">
  
  <div class="flex justify-between items-end">
    <div>
      <h1 class="text-3xl font-bold text-primary tracking-tight">Inventory Logistics</h1>
      <p class="text-gray-500">Manage transfers between Medan and Binjai branches</p>
    </div>
    <button (click)="isDrawerOpen.set(true)" 
            class="bg-primary text-white px-8 py-3 rounded-2xl font-bold shadow-lg shadow-primary/20 flex items-center gap-2 hover:-translate-y-1 transition-all">
      <lucide-icon name="plus" class="w-5 h-5"></lucide-icon>
      Create New Transfer
    </button>
  </div>

  <section>
    <h2 class="text-sm font-bold text-gray-400 uppercase tracking-widest mb-4">Movement History</h2>
    <div class="bg-white rounded-2xl border border-border overflow-hidden">
      <table class="w-full text-left">
        <thead class="bg-store-cream/20 text-primary text-xs font-bold uppercase tracking-widest">
          <tr>
            <th class="p-5">Reference</th>
            <th class="p-5">Path</th>
            <th class="p-5">Items</th>
            <th class="p-5">Status</th>
            <th class="p-5 text-right">Date</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-border">
          @for (move of allMovements(); track move.id) {
            <tr class="hover:bg-store-cream/5 transition-colors group">
              <td class="p-5 font-mono text-sm">#TRF-{{ move.id }}</td>
              <td class="p-5">
                <div class="flex items-center gap-3">
                  <span class="text-gray-900 font-medium">{{ move.source }}</span>
                  <div class="h-px w-4 bg-gray-300"></div>
                  <span class="text-gray-900 font-medium">{{ move.destination }}</span>
                </div>
              </td>
              <td class="p-5 text-sm text-gray-600">{{ move.total_quantity }} Items</td>
              <td class="p-5">
                @if (move.status_code === 'M') {
                  <span (click)="onReceive(move.id)" class="flex items-center gap-1.5 text-blue-600 bg-blue-50 px-3 py-1 rounded-full text-xs font-bold w-fit border border-blue-100">
                    <span class="w-1.5 h-1.5 rounded-full bg-blue-600 animate-pulse"></span>
                    Receive
                  </span>
                } @else {
                  <span class="flex items-center gap-1.5 text-green-600 bg-green-50 px-3 py-1 rounded-full text-xs font-bold w-fit border border-green-100">
                    <lucide-icon name="check" class="w-3 h-3"></lucide-icon>
                    RECEIVED
                  </span>
                }
              </td>
              <td class="p-5 text-right text-sm text-gray-400">
                {{ move.date | date:'dd/MM/yyyy' }}
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  </section>

  <app-stock-movement-drawer [isOpen]="isDrawerOpen()" (onClose)="isDrawerOpen.set(false);loadData();"></app-stock-movement-drawer>
  <app-transfer-receipt *ngIf="showReceiptModal()"></app-transfer-receipt>
</div>