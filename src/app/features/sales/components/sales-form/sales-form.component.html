<div class="flex h-full space-x-4">
  
  <section class="flex-1">
    <div class="mb-4 flex items-center bg-white p-4 rounded-lg shadow-sm">
      <lucide-icon name="search" class="text-store-brown mr-3 w-5 h-5"></lucide-icon>
      <input type="text" placeholder="Search product code or name..." 
             class="w-full focus:outline-none text-lg">
    </div>

    <div class="grid grid-cols-2 lg:grid-cols-4 gap-4">
      <div *ngFor="let product of products" 
           (click)="addToCart(product)"
           class="bg-white p-4 rounded-xl shadow-sm border-b-4 border-transparent hover:border-store-brown transition cursor-pointer group">
        <div class="h-32 bg-gray-100 rounded-lg mb-3 flex items-center justify-center">
            <lucide-icon name="package" class="text-gray-300 group-hover:text-store-brown transition w-10 h-10"></lucide-icon>
        </div>
        <h3 class="font-bold text-gray-800">{{ product.name }}</h3>
        <p class="text-store-brown font-semibold">{{ product.sale_price | currency }}</p>
        <p class="text-xs text-gray-400">Stock: {{ product.quantity }}</p>
      </div>
    </div>
  </section>

  <aside class="w-96 bg-white rounded-xl shadow-lg flex flex-col border-t-8 border-store-brown">
    <div class="p-4 bg-store-cream/30 border-b">
      <label class="text-xs font-bold text-store-brown uppercase mb-1 block">Customer</label>
      <div class="relative">
        <select [(ngModel)]="selectedCustomerId" 
                class="w-full bg-white border border-border rounded-lg px-3 py-2 outline-none focus:ring-2 focus:ring-store-brown/20">
          <option [value]="null">Walk-in Customer</option>
          <option *ngFor="let customer of customers" [value]="customer.id">{{ customer.name }}</option>
        </select>
      </div>
    </div>

    <div class="p-6 border-b">
      <h2 class="text-xl font-bold text-gray-800">Current Order</h2>
    </div>

    <div class="flex-1 overflow-y-auto p-4 space-y-4">
      <div *ngFor="let item of cart" class="flex justify-between items-center">
        <div>
          <p class="font-medium">{{ item.name }}</p>
          <p class="text-sm text-gray-500">{{ item.qty }} x {{ item.price | currency }}</p>
        </div>
        <p class="font-bold">{{ (item.qty * item.price) | currency }}</p>
      </div>
    </div>

    <div class="p-6 bg-gray-50 rounded-b-xl">
      <div class="flex justify-between mb-4 text-xl font-bold">
        <span>Total</span>
        <span class="text-store-brown">{{ total | currency }}</span>
      </div>
      <button (click)="processPayment()" 
              class="w-full bg-store-brown text-white py-4 rounded-lg font-bold text-lg hover:bg-opacity-90 transition">
        PROCESS PAYMENT
      </button>
    </div>
  </aside>

  <app-thermal-receipt [items]="cart" [total]="total"></app-thermal-receipt>
</div>